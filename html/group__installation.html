<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>gKit2 light: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">gKit2 light
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation</div>  </div>
</div><!--header-->
<div class="contents">
<p>gKit2 utilise 3 librairies : sdl2 et sdl2_image, et glew, il faut les installer avant de pouvoir compiler les exemples.</p>
<p>les étapes sont légèrement différentes d'un système à l'autre. une fois les librairies installées, il faut générer les projets pour votre environnement de développement :</p><ul>
<li>visual studio ou code blocks pour windows,</li>
<li>makefile ou code blocks pour linux,</li>
<li>makefile ou xcode pour mac os.</li>
</ul>
<p>c'est l'outil premake qui permet de créer les projets, et les makefiles, cf section premake.</p>
<h2>linux</h2>
<p>installez les paquets, si nécessaire (pas la peine au nautibus) : libsdl2-dev, libsdl2-image-dev, libglew-dev et premake4</p>
<p>par exemple, pour ubuntu et ses variantes : </p><pre class="fragment">sudo apt-get install libsdl2-dev libsdl2-image-dev libglew-dev premake4
</pre><h2>windows</h2>
<p>les librairies sont disponibles :</p><ul>
<li><a href="http://glew.sourceforge.net/">glew</a></li>
<li><a href="https://www.libsdl.org/download-2.0.php">sdl2</a>, section development libraries</li>
<li><a href="https://www.libsdl.org/projects/SDL_image/">sdl2_image</a>, section development libraries</li>
</ul>
<p>plusieurs versions de premake pour visual studio sont disponibles :</p><ul>
<li>pour générer des projets Visual Studio 2013 : <a href="http://premake.github.io/download.html">premake 4.4</a>, copiez le dans le répertoire des sources de gKit</li>
<li>pour générer des projets Visual Studio 2015 : <a href="http://premake.github.io/download.html">premake 5</a>, copiez le dans le répertoire des sources de gKit</li>
</ul>
<h3>installation rapide</h3>
<p>les librairies et premake4/5 sont regroupées dans une archive <a href="http://perso.univ-lyon1.fr/jean-claude.iehl/Public/educ/M1IMAGE/gkit2light_extern_vs_mingw.zip">disponible ici</a>.</p>
<p>il suffit de dezipper l'archive dans le répertoire de gKit, <b>et ensuite de copier les dll et la version de premake</b> que vous allez utiliser dans le répertoire de gKit :</p><ul>
<li>pour utiliser codeblocks : copiez le contenu de <code>extern/mingw/lib</code> et <code>extern/mingw/bin/premake4.exe</code></li>
<li>pour utiliser visual studio 2013 : copiez le contenu de <code>extern/visual2013/lib</code> et <code>extern/visual2013/bin/premake4.exe</code></li>
<li>pour utiliser visual studio 2015 : copiez le contenu de <code>extern/visual2015/lib</code> et <code>extern/visual2015/bin/premake5.exe</code></li>
</ul>
<h3>installation manuelle</h3>
<p>le plus simple est de créer un sous répertoire, <code>extern</code> par exemple, et d'y copier les fichiers <code>.h</code>, <code>.dll</code> et <code>.lib</code>. vous devez obtenir une structure :</p>
<div class="fragment"><div class="line">gKit2light/</div>
<div class="line">    premake4/5</div>
<div class="line">    premake4.lua</div>
<div class="line">    data/</div>
<div class="line">        shaders/</div>
<div class="line">        ...</div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">    tutos/</div>
<div class="line">    ...</div>
<div class="line">    </div>
<div class="line">    src/</div>
<div class="line">        gKit/</div>
<div class="line">        ...</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">extern</span>/</div>
<div class="line">        mingw/ ou visual2013/ ou visual2015/</div>
<div class="line">            bin/</div>
<div class="line">            </div>
<div class="line">            include/</div>
<div class="line">                SDL2/</div>
<div class="line">                    SDL.h</div>
<div class="line">                    SDL_image.h</div>
<div class="line">                    ...</div>
<div class="line">                </div>
<div class="line">                GL/</div>
<div class="line">                    glew.h</div>
<div class="line">                    ...</div>
<div class="line">                </div>
<div class="line">            lib/</div>
<div class="line">                glew32.dll et lib</div>
<div class="line">                SDL2.dll et lib</div>
<div class="line">                SDL2_image.dll et lib</div>
<div class="line">                SDL2_main.lib</div>
<div class="line">                ...</div>
</div><!-- fragment --><p>il faudra modifier le fichier premake4.lua avec le chemin d'accès à ce répertoire, si vous n'utilisez pas cette solution. cf section premake.</p>
<h2>mac os</h2>
<p>les librairies sont disponibles :</p><ul>
<li><a href="https://www.libsdl.org/download-2.0.php">sdl2</a>, section development libraries</li>
<li><a href="https://www.libsdl.org/projects/SDL_image/">sdl2_image</a>, section development libraries</li>
<li>glew n'est pas necessaire sur mac os.</li>
</ul>
<p>copier le contenu des fichiers .dmg dans <code>/Library/Frameworks</code></p>
<p>premake4 est disponible :</p><ul>
<li><a href="http://premake.github.io/download.html">premake 4.4</a></li>
</ul>
<p>copiez le dans le répertoire des sources de gKit</p>
<h1>premake :</h1>
<p>ouvrez un terminal, et naviguez jusqu'au répertoire contenant gKit :</p><ul>
<li>windows : cherchez <code>powershell</code> dans le menu démarrer</li>
<li>linux : <code>ctrl</code>-<code>alt</code>-<code>t</code>,</li>
<li>mac os : cherchez <code>terminal</code></li>
</ul>
<p><em>rappel :</em> commandes <code>ls</code> et <code>cd</code> pour naviguer.</p>
<p>éxecuter premake4 &ndash;help, la suite devrait être assez évidente.</p>
<ul>
<li>si vous voulez générer un projet visual studio, il suffit de choisir la bonne version,<ul>
<li><code>./premake4 vs2013</code></li>
<li><code>./premake5 vs2015</code></li>
</ul>
</li>
<li>pour code blocks...<ul>
<li><code>./premake4 codeblocks</code></li>
</ul>
</li>
<li>pour xcode...<ul>
<li><code>./premake4 xcode</code></li>
</ul>
</li>
<li>pour des makefile (linux et mac os)...<ul>
<li><code>./premake4 gmake</code></li>
</ul>
</li>
</ul>
<p>vous pouvez maintenant ouvrir la solution visual studio, le projet xcode, code blocks et compiler shader_kit ou un des tutos.</p>
<h2>utilisation des makefiles</h2>
<p>les makefile peuvent générer les versions debug (cf utiliser gdb ou lldb) ou les versions release, plus rapide (2 ou 3 fois, interressant pour les projets avec beaucoup de calculs) :</p><ul>
<li><code>make help</code>, affiche la liste des projets et les options disponibles,</li>
<li><code>make shader_kit</code>, compile la version debug de shader_kit,</li>
<li><code>make shader_kit config=release64</code>, compile la version release, 64bits, de shader_kit,</li>
<li><code>make shader_kit config=debug64</code>, compile la version debug, 64bits, de shader_kit,</li>
<li><code>make shader_kit verbose=1</code>, compile la version debug de shader_kit et affiche le détail des commandes exécutées.</li>
</ul>
<h1>premake et les projets :</h1>
<p>pour ajouter un nouveau projet, le plus simple est de modifier premake4.lua et de regénérer le projet complet.</p>
<p>il y a 2 solutions :</p><ul>
<li>pour un projet avec 1 seul fichier .cpp</li>
<li>pour un projet composé de plusieurs fichiers .cpp</li>
</ul>
<h2>projet en 1 fichier .cpp</h2>
<p>le plus simple est l'ajouter à la liste des projets, modifiez : </p><pre class="fragment">-- description des projets      
local projects = {
    "shader_kit"
}
</pre><p>et ajoutez le votre, sans l'extension .cpp, par exemple tp1 : </p><pre class="fragment">local projects = {
    "shader_kit",
    "tp1"
}
</pre><p>et regénérez le projet, cf premake4 gmake / vs2013 / xcode ...</p>
<h2>projet avec plusieurs fichiers .cpp</h2>
<p>ajoutez la description de votre projet : </p><pre class="fragment">project("tp1")
    language "C++"
    kind "ConsoleApp"
    targetdir "bin"
    files ( gkit_files )
    files { "tp1_main.cpp", "tp1_scene.cpp", "tp1_render.cpp" }
</pre><h2>regénérez le projet,</h2>
<p>cf premake4 gmake / vs2013 / xcode ...</p>
<h1>FAQ :</h1>
<h2>erreur horrible dans <a class="el" href="window_8cpp_source.html">src/gKit/window.cpp</a> :</h2>
<p>selon la version glew, le type du dernier paramètre de la fonction <a class="el" href="window_8cpp_source.html">window.cpp</a>/debug change, il suffit d'ajouter un <code>const</code> dans la déclaration du dernier paramètre.</p>
<div class="fragment"><div class="line">ligne 230 :</div>
<div class="line"><span class="keyword">static</span></div>
<div class="line"><span class="keywordtype">void</span> GLAPIENTRY debug( GLenum source, GLenum type, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>, GLenum severity, GLsizei <a class="code" href="group__math.html#gaf34f93c25b062fad7f99a1e02d88a423">length</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *message, </div>
<div class="line">        <span class="keywordtype">void</span> *userParam )</div>
</div><!-- fragment --><p>à remplacer par :</p>
<div class="fragment"><div class="line"><span class="keyword">static</span></div>
<div class="line"><span class="keywordtype">void</span> GLAPIENTRY debug( GLenum source, GLenum type, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>, GLenum severity, GLsizei length, <span class="keyword">const</span> <span class="keywordtype">char</span> *message, </div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">void</span> *userParam ) <span class="comment">//!&lt; const </span></div>
</div><!-- fragment --><h2>erreur lors du link / édition de liens :</h2>
<p>par défaut les projets essayent de générer la version 32bits des applications, selon votre système, ce n'est pas possible ou obligatoire...</p>
<p>configurations générées :</p><ul>
<li>windows codeblocks : utilisez la version 32 bits, 64 bits n'existe pas (limitation de gcc pour windows ?)</li>
<li>windows visual studio 2013 et 2015, utilisez la version 64bits des librairies</li>
<li>linux codeblocks : utilisez la même version que votre système. cf panneau de configuration / details</li>
<li>mac os : les frameworks contiennent les 2 versions. </li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 27 2017 09:25:25 for gKit2 light by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
